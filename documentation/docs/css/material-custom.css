/* Custom styles for Material Theme */
@import url('https://fonts.googleapis.com/css2?family=Titillium+Web:wght@400;600;700;900&display=swap');
@import url('https://fonts.googleapis.com/css2?family=Lato:wght@400;700&display=swap');

/* ============================================
   FOUNDRY NUKE UI THEME (Hybrid)
   ============================================ */
:root > * {
    /* Nuke UI Colors */
    --nuke-bg-dark: #282828;      /* Main UI background */
    --nuke-bg-panel: #323232;     /* Panel/Node graph background */
    --nuke-bg-input: #1e1e1e;     /* Input fields/darker areas */
    --nuke-orange: #f7931e;       /* Foundry Orange */
    --nuke-blue: #4a9eff;         /* Nukepedia/Nuke Blue Accent */
    --nuke-text: #eeeeee;         /* Primary text */
    --nuke-text-muted: #999999;   /* Secondary text */
    --nuke-border: #111111;       /* Panel borders */
    --nuke-header: #3a3a3a;       /* Header/Toolbar background */

    /* Material Theme Overrides */
    --md-primary-fg-color: var(--nuke-header);
    --md-primary-fg-color--light: var(--nuke-bg-panel);
    --md-primary-fg-color--dark: var(--nuke-bg-input);
    --md-accent-fg-color: var(--nuke-orange);

    /* Custom Variables for Video Container */
    --nst-bg-code: var(--nuke-bg-input);
    --nst-border-color: var(--nuke-border);
    --nst-text-secondary: var(--nuke-text-muted);
    --nst-link-color: var(--nuke-blue); /* Restored Blue for links */
}

/* Dark Mode Specific Overrides */
[data-md-color-scheme="slate"] {
    --md-default-bg-color: var(--nuke-bg-dark);
    --md-default-fg-color: var(--nuke-text);
    --md-code-bg-color: var(--nuke-bg-input);

    /* Sidebar background */
    --md-default-bg-color--light: var(--nuke-bg-panel);

    /* Links - Blue for general links (Nukepedia style) */
    --md-typeset-a-color: var(--nuke-blue);

    /* Borders */
    --md-default-fg-color--lightest: var(--nuke-border);
}

/* ============================================
   TYPOGRAPHY OVERRIDES (Option A: VFX Style)
   ============================================ */
.md-typeset h1,
.md-typeset h2,
.md-typeset h3,
.md-typeset h4,
.md-typeset h5,
.md-typeset h6 {
    font-family: "Titillium Web", sans-serif;
    font-weight: 700;
}

/* Force light text only in Dark Mode */
[data-md-color-scheme="slate"] .md-typeset h1,
[data-md-color-scheme="slate"] .md-typeset h2,
[data-md-color-scheme="slate"] .md-typeset h3,
[data-md-color-scheme="slate"] .md-typeset h4,
[data-md-color-scheme="slate"] .md-typeset h5,
[data-md-color-scheme="slate"] .md-typeset h6 {
    color: var(--nuke-text) !important;
}

/* Force dark text in Light Mode */
[data-md-color-scheme="default"] .md-typeset h1,
[data-md-color-scheme="default"] .md-typeset h2,
[data-md-color-scheme="default"] .md-typeset h3,
[data-md-color-scheme="default"] .md-typeset h4,
[data-md-color-scheme="default"] .md-typeset h5,
[data-md-color-scheme="default"] .md-typeset h6 {
    color: #000000 !important;
}

/* Punchier Titles (Increased Sizes) */
.md-typeset h1 {
    font-size: 3.0em; /* Bumped from 2.5em to 3.0em */
    line-height: 1.2;
    margin-bottom: 0.8em;
}

.md-typeset h2 {
    font-size: 2.4em; /* Bumped from 2.0em to 2.4em */
    margin-top: 1.5em;
    margin-bottom: 0.8em;
}

.md-typeset h3 {
    font-size: 1.8em; /* Bumped from 1.5em to 1.8em */
}

/* Header adjustments */
.md-header {
    background-color: var(--nuke-header);
    border-bottom: 1px solid #000;
}

.md-header__title {
    font-family: "Titillium Web", sans-serif;
    font-weight: 700;
}

/* Sidebar adjustments */
.md-nav {
    font-family: "Inter", "Segoe UI", sans-serif;
    font-size: 0.9rem;
}

/* Sidebar Title - Blue */
.md-nav__title {
    color: var(--nuke-blue) !important;
}

/* Sidebar Category Labels - Blue to distinguish expandable sections from tool links */
.md-nav__item--nested > .md-nav__link {
    color: var(--nuke-blue) !important;
    font-weight: 600;
}

/* Active item highlight - Orange (Selected Node) */
.md-nav__item .md-nav__link--active {
    color: var(--nuke-orange);
    font-weight: bold;
    border-left: 3px solid var(--nuke-orange); /* Nuke-style selection indicator */
    padding-left: 8px; /* Offset for border */
}

/* Hover state - Blue (Nukepedia/Hover) */
.md-nav__item .md-nav__link:hover {
    color: var(--nuke-blue);
}

/* Admonitions (Notes/Warnings) styled like Nuke Nodes */
.md-typeset .admonition,
.md-typeset details {
    background-color: var(--nuke-bg-panel);
    border: 1px solid var(--nuke-border);
    border-radius: 4px;
    box-shadow: 0 2px 4px rgba(0,0,0,0.2);
}

.md-typeset .admonition-title,
.md-typeset summary {
    background-color: var(--nuke-header);
    border-bottom: 1px solid var(--nuke-border);
    font-weight: bold;
    font-family: "Titillium Web", sans-serif; /* Match headers */
}

/* Code blocks styled like Script Editor */
.md-typeset pre > code {
    background-color: var(--nuke-bg-input);
    border: 1px solid var(--nuke-border);
    color: #d4d4d4;
    font-family: "JetBrains Mono", "Consolas", "Monaco", monospace; /* Explicitly set JetBrains Mono */
}

/* ============================================
   SEARCH BAR POSITIONING (Experimental)
   ============================================ */
/* This attempts to make the search bar feel more integrated into the sidebar/top area */
@media screen and (min-width: 76.25em) {
    .md-search {
        background-color: var(--nuke-bg-input);
        border: 1px solid var(--nuke-border);
        border-radius: 4px;
        margin: 8px;
    }
    .md-search__input {
        background-color: transparent;
    }
}

/* ============================================
   VIDEO CONTAINER STYLES
   ============================================ */
.video-container {
    position: relative;
    width: 100%;
    max-width: 640px;
    margin: 1em 0;
    background: var(--nst-bg-code);
    border-radius: 4px;
    border: 1px solid var(--nuke-border);
    overflow: hidden;
}

.video-container iframe {
    width: 100%;
    height: 360px;
    border: none;
}

.video-offline-fallback {
    display: block;
    padding: 1em;
    background: var(--nst-bg-code);
    border: 1px solid var(--nst-border-color);
    border-radius: 4px;
    text-align: center;
    color: var(--nst-text-secondary);
}

.video-offline-fallback a {
    color: var(--nst-link-color) !important;
}
